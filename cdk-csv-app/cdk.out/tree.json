{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.215.0"},"children":{"CdkCsvAppStack":{"id":"CdkCsvAppStack","path":"CdkCsvAppStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"InputBucket":{"id":"InputBucket","path":"CdkCsvAppStack/InputBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.215.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"CdkCsvAppStack/InputBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{}}}}},"OutputBucket":{"id":"OutputBucket","path":"CdkCsvAppStack/OutputBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.215.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"CdkCsvAppStack/OutputBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{}}}}},"CsvProcessorLambda":{"id":"CsvProcessorLambda","path":"CdkCsvAppStack/CsvProcessorLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.DockerImageFunction","version":"2.215.0","metadata":[{"environment":"*","memorySize":"*","timeout":"*","code":"*"},{},{},{},{"environment":"*","memorySize":"*","timeout":"*","code":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CdkCsvAppStack/CsvProcessorLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CdkCsvAppStack/CsvProcessorLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"CdkCsvAppStack/CsvProcessorLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CdkCsvAppStack/CsvProcessorLambda/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"CdkCsvAppStack/CsvProcessorLambda/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["InputBucket3BF8630A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["InputBucket3BF8630A","Arn"]},"/*"]]}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["OutputBucket7114EB27","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["OutputBucket7114EB27","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"CsvProcessorLambdaServiceRoleDefaultPolicy999287E9","roles":[{"Ref":"CsvProcessorLambdaServiceRole0E4E21EE"}]}}}}}}},"AssetImage":{"id":"AssetImage","path":"CdkCsvAppStack/CsvProcessorLambda/AssetImage","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr_assets.DockerImageAsset","version":"2.215.0"},"children":{"Staging":{"id":"Staging","path":"CdkCsvAppStack/CsvProcessorLambda/AssetImage/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"Repository":{"id":"Repository","path":"CdkCsvAppStack/CsvProcessorLambda/AssetImage/Repository","constructInfo":{"fqn":"aws-cdk-lib.aws_ecr.RepositoryBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"CdkCsvAppStack/CsvProcessorLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"imageUri":{"Fn::Sub":"521271295481.dkr.ecr.eu-central-1.${AWS::URLSuffix}/cdk-hnb659fds-container-assets-521271295481-eu-central-1:614d751559efbd2908651d43e76ea2d80a0777bf1c0fd825bfcf24590ef9184c"}},"environment":{"variables":{"INPUT_BUCKET":{"Ref":"InputBucket3BF8630A"},"OUTPUT_BUCKET":{"Ref":"OutputBucket7114EB27"},"OUTPUT_PREFIX":"processed/"}},"memorySize":512,"packageType":"Image","role":{"Fn::GetAtt":["CsvProcessorLambdaServiceRole0E4E21EE","Arn"]},"timeout":30}}},"LogGroup":{"id":"LogGroup","path":"CdkCsvAppStack/CsvProcessorLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"CdkCsvAppStack/CsvProcessorLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"CsvProcessorLambdaDFE3AFE0"}]]},"retentionInDays":731}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"CdkCsvAppStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"},"children":{"Default":{"id":"Default","path":"CdkCsvAppStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"CdkCsvAppStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"CdkCsvAppStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.3"}}}}}